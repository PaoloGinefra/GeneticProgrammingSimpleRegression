# Genetic Programming Simple Regression

## Introduction

This is an experiment to see if I can implement genetic programming from scratch to solve a simple regression problem. The problem is to find a function that fits some 2d points on a plane. The data is generated by a function that takes a single input and returns a single output.

## Class structure

```mermaid
---
title: Structure
---
classDiagram
    class Population{
        -int populationSize
        -int generation
        -float mutationRate
        -int tournamentSize
        -int newIndividualsPerGeneration
        -scoreIndividuals(Environment: env)
        -tournamentSelection() Individual
        -breeding()
        -sortIndividuals()
        -selection()
        +runGeneration(Enviroment: env)

    }

    Population "1" --> "1..*" Individual : individuals


    class Individual{
        -float fitness
        -Color lineColor
        +evaluate(float: x) float
        +mutate()
        +crossover(Individual: A, Individual:B) Individual$
        +draw(P5: p5)
    }

    Individual "1" *--> "1" OpNode : root
    Individual "1" *--> "1" ConstantNode : variable

    class OpNode{
        <<Abstract>>
        +evaluate() float
        +mutate()
    }

    class BinaryNode{
        -OpNode left
        -OpNode right
        +evaluate() float
        +mutate()
    }

    class ConstantNode{
        -float value
        +load(float: value)
        +evaluate() float
        +mutate()
    }

    OpNode <|-- BinaryNode
    OpNode <|-- ConstantNode

    BinaryNode "0..*" --> "1" BinaryOperation : operation

    class BinaryOperation{
        <<Enumeration>>
        ADD
        MULTIPLY
        -float neutralElement

        +evaluate(OpNode: A, OpNode: B) float
    }

    class Environment{
        +computeFitness(Individual: individual) float
    }

    class Point{
        -float x
        -float y
        -float dotSize
        -Color dotColor
        +draw(P5: p5)
    }

    Environment "1" *--> "1..*" Point : points

```
